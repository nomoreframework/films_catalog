@model IEnumerable<FilmsCatalog.Models.FilmModel>;
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Films Catalog</h1>
</div>

@if (User.Identity.IsAuthenticated)
{
    <p>@User.Identity.Name</p>

    <form method="post" asp-controller="RegisterUser" asp-action="SignOut">
        <input type="submit" value="Выход" />
    </form>
    <form method="post" asp-controller="GetPosters" asp-action="SignOut">
        <input type="submit" value="My Films" />
    </form>
}
else
{
    <a asp-controller="RegisterUser" asp-action="SignIn">Вход</a>
    <a asp-controller="RegisterUser" asp-action="GetRegister">Регистрация</a>
}
@foreach (var p in Model)
{
    <div>
        <h4>@p.Name</h4>
        @if (p.Poster.Poster != null)
        {
            <img style='width:80px; height:60px;' src="data:image/jpeg;base64,@(Convert.ToBase64String(p.Poster.Poster))" />
        }
        <p>
            @p.Name
        </p>
        <p>
            @p.Director
        </p>
        <p>
            @p.YearOfIssue
        </p>
        <p>
            @p.FilmDescription
        </p>
    </div>
}
